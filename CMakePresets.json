{
  "version": 3,
  "cmakeMinimumRequired": { "major": 3, "minor": 21, "patch": 0 },
  "configurePresets": [
    {
      "name": "develop",
      "hidden": true,
      "cacheVariables": {
        "BUILD_SHARED_LIBS":                { "type": "BOOL", "value": "ON"},
        "IVW_CFG_CMAKE_DEBUG":              { "type": "BOOL", "value": "ON"},
        "IVW_CFG_PROFILING":                { "type": "BOOL", "value": "ON"},
        "IVW_CFG_PRECOMPILED_HEADERS":      { "type": "BOOL", "value": "OFF"},
        "IVW_CFG_FORCE_ASSERTIONS":         { "type": "BOOL", "value": "ON"},
        "IVW_CFG_BUILD_CHANGELOG":          { "type": "BOOL", "value": "ON"},

        "IVW_APP_MINIMAL_GLFW":             { "type": "BOOL", "value": "ON"},
        "IVW_APP_MINIMAL_QT":               { "type": "BOOL", "value": "ON"},

        "IVW_TEST_BENCHMARKS":              { "type": "BOOL", "value": "ON"},
        "IVW_TEST_INTEGRATION_TESTS":       { "type": "BOOL", "value": "ON"},

        "IVW_PACKAGE_INSTALLER":            { "type": "BOOL", "value": "ON"},
        "IVW_USE_OPENMP":                   { "type": "BOOL", "value": "OFF"},
        "IVW_USE_OPENEXR":                  { "type": "BOOL", "value": "ON"}
      }
    },
    {
      "name": "vcpkg",
      "hidden": true,
      "toolchainFile": "${sourceParentDir}/vcpkg/scripts/buildsystems/vcpkg.cmake",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE":       "${sourceParentDir}/vcpkg/scripts/buildsystems/vcpkg.cmake",
        "IVW_USE_EXTERNAL_ASSIMP":    { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_BENCHMARK": { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_CIMG":      { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_EIGEN":     { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_FMT":       { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_FREETYPE":  { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_GLEW":      { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_GLFW":      { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_GLM":       { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_GTEST":     { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_HDF5":      { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_IMG":       { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_INJA":      { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_JSON":      { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_NIFTI":     { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_OPENEXR":   { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_PEGTL":     { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_PYBIND11":  { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_ROARING":   { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_SGCT":      { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_TCLAP":     { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_TIFF":      { "type": "BOOL", "value": "ON"},
        "IVW_USE_EXTERNAL_UTFCPP":    { "type": "BOOL", "value": "ON"}
      }
    },

    {
      "name": "modules",
      "hidden": true,
      "cacheVariables": {
        "IVW_EXTERNAL_MODULES" : "${sourceParentDir}/modules/misc;${sourceParentDir}/modules/medvis;${sourceParentDir}/modules/molvis;${sourceParentDir}/modules/tensorvis;${sourceParentDir}/modules/topovis;${sourceParentDir}/modules/vectorvis"
      }
    },

    {
      "name": "msvc-dev",
      "displayName": "MSVC 2022",
      "description": "MSVC 2022 Development configuration",
      "generator": "Visual Studio 17 2022",
      "architecture" : "x64",
      "inherits" : ["develop"]
    },
    {
      "name": "msvc-dev-vcpkg",
      "displayName": "MSVC 2022 Using vcpkg",
      "description": "MSVC 2022 Development using vcpkg configuration",
      "inherits" : ["vcpkg", "msvc-dev"]
    },
    {
      "name": "ninja",
      "hidden": true,
      "generator": "Ninja"
    },
    {
      "name": "ninja-dev-vcpkg",
      "displayName": "Ninja using vcpkg",
      "description": "Ninja development using vcpkg configuration",
      "generator": "Ninja",
      "inherits" : ["ninja", "vcpkg", "develop"]
    },
    {
      "name": "ttk",
      "hidden": true,
      "inherits" : [],
      "environment": {
        "VCPKG_OVERLAY_PORTS" : "${sourceDir}/tools/vcpkg:${sourceParentDir}/modules/tools/vcpkg",
        "COMMENT_PATH": "We need the path to dumpbin for VTK",
        "Path" : "C:/Qt/6.5.2/msvc2019_64/bin;C:/Program Files/Microsoft Visual Studio/2022/Enterprise/VC/Tools/MSVC/14.37.32822/bin/Hostx64/x64;$penv{Path}"
      },
      "cacheVariables": {
        "VCPKG_MANIFEST_FEATURES" : "vtk;ttk",
        "IVW_CFG_VCPKG_OVERLAYS" :  "${sourceDir}/tools/vcpkg;${sourceParentDir}/modules/tools/vcpkg",
        "IVW_MODULE_TTK" :          { "type": "BOOL", "value": "ON" },
        "IVW_MODULE_VTK":           { "type": "BOOL", "value": "OFF" }
      }
    },
    {
      "name": "qt",
      "hidden": true,
      "cacheVariables": {
        "CMAKE_PREFIX_PATH" :           { "type": "PATH", "value": "C:/Qt/6.5.2/msvc2019_64"}
      }
    },
    {
      "name": "msvc-dev-vcpkg-ttk",
      "displayName": "MSVC 2022 Using vcpkg with TTK",
      "description": "MSVC 2022 Development using vcpkg configuration with TTK",
      "binaryDir" : "${sourceParentDir}/builds/inviwo-ttk",
      "inherits" : ["vcpkg", "msvc-dev", "modules", "ttk", "qt"]
    },
    {
      "name": "ninja-dev-vcpkg-ttk",
      "displayName": "Ninja Using vcpkg with TTK",
      "description": "Ninja Development using vcpkg configuration with TTK",
      "binaryDir" : "${sourceParentDir}/builds/inviwo-ttk",
      "inherits" : ["vcpkg", "ninja", "modules", "ttk"],
      "cacheVariables": {
        "BUILD_SHARED_LIBS":   { "type": "BOOL", "value": "OFF"},
        "IVW_MODULE_FFMPEG":   { "type": "BOOL", "value": "OFF"},
        "CMAKE_BUILD_TYPE":    { "type": "STRING", "value": "Debug" }
      },
      "environment": {"PATH" : "/usr/bin:$penv{PATH}"}
    }
  ]
}
